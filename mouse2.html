<style>
  body, #b { height: 100%; user-select: none }
  input { position: fixed; top: 10px }
  #a { left: 60px }
</style>
<input type=color id=c>
<input type=range max=180 id=a>
<div id=b>
<script>
l = r = 0;
a.value = 0;
b.onmousedown = function(e){
  a.value=0;
  x = e.pageX;
  y = e.pageY;
  l = 1;
  N = document.getElementById("n");
  if(N){
    N.id = "";
  }
  b.innerHTML+="<div id=n style=position:absolute;top:"+y+"px;left:"+x+"px;border-radius:50%;background:"+c.value+">";
}
b.onmouseup = function(e){
  if(e.which == 1){
    l = 0;
  }
  if(e.which == 3){
    r = 0;
  }
}
b.onmousemove = function(e){
  i = e.pageX;
  j = e.pageY;
  if(l){
    if(i < x){
      n.style.left = i + "px";
      n.style.width = (x - i) + "px";
    }
    else{
      n.style.left = x + "px";
      n.style.width = (i - x) + "px";
    }
    if(j < y){
      n.style.top = j + "px";
      n.style.height = (y - j) + "px";
    }
    else{
      n.style.top = y + "px";
      n.style.height = (j - y) + "px";
    }
  }
}
a.onchange = function(){
  n.style.background = c.value;
  n.style.transform = "rotate(" + a.value + "deg)";
  n.style.mozTransform = "rotate(" + a.value + "deg)";
  n.style.webkitTransform = "rotate(" + a.value + "deg)";
}
</script>